

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Definition of Services &mdash; marcopolo 1 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="marcopolo 1 documentation" href="../index.html"/>
        <link rel="next" title="Definition of commands" href="../commands/intro.html"/>
        <link rel="prev" title="polo.cfg example" href="../configuration/examples/polo.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="../index.html" class="fa fa-home"> marcopolo</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../fundamentals.html">Fundamentals</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../fundamentals/marco.html">Marco</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fundamentals/polo.html">Polo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fundamentals/configuration_files.html">Configuration files</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#dependencies">Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#python-version">Python version</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#instalation-from-source">Instalation from source</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#daemons">Daemons</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#files">Files</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../configuration/basics.html">Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../configuration/marco.html">Marco configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/polo.html">Polo configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/examples/index.html">Configuration Examples</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Definition of Services</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#static-services">Static services</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dynamic-services">Dynamic services</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../commands/intro.html">Definition of commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../daemons/intro.html">Daemons</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../daemons/systemv.html">System V</a></li>
<li class="toctree-l2"><a class="reference internal" href="../daemons/systemd.html">Systemd-style daemons</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../bindings/intro.html">Bindings</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../bindings/marco.html">Marco methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bindings/polo.html">Polo methods</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../utilities/intro.html">Utilities</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../utilities/marcodiscover.html">Marcodiscover</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities/marcoinstallkey.html">Marcoinstallkey</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities/marcosshcommand.html">Marcosshcommand</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities/marcoscp.html">Marcoscp</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../reference.html">Implementation Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../reference/marco/index.html">Marco reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/polo/index.html">Polo reference</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../software_engineering/intro.html">Ingeniería del software</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../software_engineering/analysis/intro.html">Fase de análisis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../software_engineering/design/intro.html">Fase de diseño</a></li>
<li class="toctree-l2"><a class="reference internal" href="../software_engineering/project_mgmt/intro.html">Gestión del proyecto</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">marcopolo</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
    <li>Definition of Services</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../_sources/services/intro.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="definition-of-services">
<h1>Definition of Services<a class="headerlink" href="#definition-of-services" title="Permalink to this headline">¶</a></h1>
<p>A <em>service</em> is a set of information that can be discovered by using a unique identifier (the service <em>name</em>). There are two types of services, depending on the way that they were published: <em>dynamic</em> services, those created by a program in execution and <em>static</em> services, created using service files. The services behave similarly without regard of the publication method, however, dynamic services are unpublished automatically when Polo is stopped or restarted (<strong>but not when it is reloaded</strong>) while static services last as long as the file exists.</p>
<div class="section" id="static-services">
<span id="id1"></span><h2>Static services<a class="headerlink" href="#static-services" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>All files in the <code class="docutils literal"><span class="pre">$(MARCOPOLO_DIR)/polo/services</span></code> or <code class="docutils literal"><span class="pre">$HOME/.polo/services</span></code> are considered services, and are expected to have the following structure skeleton (defined in <code class="docutils literal"><span class="pre">$(MARCOPOLO_DIR)/polo/skel</span></code>:</li>
</ul>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="o">:</span><span class="s2">&quot;skel&quot;</span><span class="p">,</span>
    <span class="s2">&quot;params&quot;</span><span class="o">:</span><span class="p">{</span><span class="s2">&quot;param1&quot;</span><span class="o">:</span><span class="s2">&quot;value1&quot;</span><span class="p">,</span> <span class="s2">&quot;param2&quot;</span><span class="o">:</span><span class="s2">&quot;value2&quot;</span><span class="p">},</span>
    <span class="s2">&quot;groups&quot;</span><span class="o">:</span><span class="p">[</span><span class="s2">&quot;224.0.1.130&quot;</span><span class="p">,</span> <span class="s2">&quot;224.0.1.131&quot;</span><span class="p">],</span>
    <span class="s2">&quot;disabled&quot;</span><span class="o">:</span> <span class="kc">true</span>
<span class="p">}</span>
</pre></div>
</div>
<p>&#8211; The <code class="docutils literal"><span class="pre">id</span></code> parameter can be any string from 1 to 30 characters long if the service is a root service. In the case of user services, the rule still applies, but the final service identifier will be <code class="docutils literal"><span class="pre">$USER:id</span></code>.</p>
<p>&#8211; The <code class="docutils literal"><span class="pre">params</span></code> is an JSON object of custom parameters, useful for filtering, information about the service, etc. The values of each parameter can only be basic types (no nested arrays/objects are allowed). It is an optional parameter.</p>
<p>&#8211; The <code class="docutils literal"><span class="pre">groups</span></code> parameter is optional and specifies the groups where the service has to be published. If not supplied, the service will be published in all the multicast groups configured for the Polo instance. The parameter must be an array of IP strings. <strong>Note</strong> that only those groups where Polo is configured to work are valid, and the service will not be published in any other multicast group configured in the service file.</p>
<p>&#8211; The <code class="docutils literal"><span class="pre">disabled</span></code> parameter is optional, and if defined and set to <code class="docutils literal"><span class="pre">true</span></code> will disable the service publication in all groups. Otherwise it will be ignored.</p>
</div>
<div class="section" id="dynamic-services">
<span id="id2"></span><h2>Dynamic services<a class="headerlink" href="#dynamic-services" title="Permalink to this headline">¶</a></h2>
<p>The dynamic services are indistinguishable in behaviour to static services (they can even be created as static services), and are configured using the following tools:</p>
<ul class="simple">
<li>The <a class="reference internal" href="../bindings/intro.html"><em>bindings</em></a> of Polo during execution time.</li>
<li>The script <code class="docutils literal"><span class="pre">poloservice</span></code> offers an interactive method to create a service file and publish it (it uses the Polo binding underneath).</li>
</ul>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../commands/intro.html" class="btn btn-neutral float-right" title="Definition of commands">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../configuration/examples/polo.html" class="btn btn-neutral" title="polo.cfg example"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Diego Martín.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>